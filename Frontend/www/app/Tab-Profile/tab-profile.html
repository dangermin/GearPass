<ion-view view-title="Profile">
    <ion-content>
        <div ng-hide="hasProfile.value" class="list">
            <h2>Welcome, <span ng-bind ="displayEmail.email"></span></h2>
            <button class="button button-block button-positive" ng-click="profileModal.show()">Create Profile</button>
        </div>
        <div ng-show="hasProfile.value" class="card">
            <div id="profileCard" class="item item-thumbnail-left">
                <img src="app/img/surf.gif">
                <h2><span ng-bind="publicFirstName.value"></span> <span ng-bind="publicLastName.value"></span></h2>
                <p><span ng-bind="publicLocation.value.formatted_address"></span></p>
            </div>
            <div id="profileCard">
                <div class="item item-divider">Contact Information:</div>
                <div class="item">Phone Number:<span ng-bind="publicPhoneNumber.value"></span></div>
                <div class="item">Email:<span ng-bind="publicEmail.value"></span></div>
            </div>
            <button class="button button-block button-positive" ng-click="profileModal.show()">Update Profile</button>
        </div>
        <button class="button button-block button-positive" ng-click="logout()">Logout</button>
    </ion-content>
    <script id="templates/profileModal.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-positive">
                <h1 class="title">Public Profile</h1>
                <button class="button button-clear button-primary" ng-click="profileModal.hide()">Cancel</button>
            </ion-header-bar>
            <ion-content class="padding">
                <div class="list">
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">First Name</span>
                        <input type="text" ng-model="publicFirstName.value">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Last name</span>
                        <input type="text" ng-model="publicLastName.value">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Location</span>
                        <ion-google-place ng-click="profileModal.hide()" placeholder="Enter an address or city!" ng-model="publicLocation.value" />
                    </label>
                </div>
                <button class="button button-block button-positive" ng-click="addPublicProfileToCurrentUser()">Update</button>
            </ion-content>
        </ion-modal-view>
    </script>
</ion-view>
